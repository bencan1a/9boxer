# MkDocs Material Configuration for 9Boxer User Guide
# This generates static documentation bundled with the Electron app for offline use
# UPDATED: Now aligned with 9Boxer design system (frontend/src/theme/tokens.ts)

# Site Information
site_name: 9Boxer User Guide
site_description: Complete guide to using the 9Boxer desktop application for talent management
site_author: 9Boxer Team

# Directory Configuration
docs_dir: resources/user-guide/docs  # User guide documentation source
site_dir: resources/user-guide/site  # Build output directory

# Development Server Configuration
dev_addr: 127.0.0.1:38080  # Custom port to avoid conflicts (backend uses 38000)

# URL Configuration
# CRITICAL: Use flat file structure for file:// protocol compatibility
# Without this, links open directories instead of HTML files when accessed via file://
use_directory_urls: false  # Generate page.html instead of page/index.html

# Deployment - Local only (bundled with app, no site_url needed)
# The documentation is served as static files from the Electron app

# Theme Configuration
theme:
  name: material

  # 9Boxer Logo
  logo: images/logo.png
  favicon: images/logo.png

  # UPDATED: Match 9Boxer app color scheme - default to dark mode with working toggle
  palette:
    # Dark mode (default - matches app)
    - scheme: slate
      primary: indigo  # Deep purple/blue matching app
      accent: deep orange  # Orange accents for highlights
      toggle:
        icon: material/brightness-7
        name: Switch to light mode

    # Light mode - matches app's light theme
    - scheme: default
      primary: blue  # Lighter blue for light mode (matches app)
      accent: orange  # Orange accents for highlights
      toggle:
        icon: material/brightness-4
        name: Switch to dark mode

  # Material Design features for enhanced navigation (matches mkdocs-material demo)
  features:
    - announce.dismiss        # Dismissible announcements
    - content.action.edit     # Edit button
    - content.action.view     # View source button
    - content.code.annotate   # Code annotations
    - content.code.copy       # Copy button for code blocks
    - content.tabs.link       # Link tabbed content across pages
    - content.tooltips        # Improved tooltips
    - header.autohide         # Auto-hide header on scroll
    - navigation.expand       # Expand navigation by default
    - navigation.footer       # Footer navigation
    - navigation.indexes      # Section index pages
    - navigation.instant      # Fast page loads without full reload
    - navigation.instant.prefetch  # Prefetch pages
    - navigation.instant.progress  # Progress indicator
    - navigation.path         # Breadcrumb navigation
    - navigation.sections     # Group navigation items into sections
    - navigation.tabs         # Top-level tabs
    - navigation.tabs.sticky  # Sticky tabs
    - navigation.top          # Back to top button
    - navigation.tracking     # Update URL with current section
    - search.highlight        # Highlight search terms in results
    - search.share            # Share search results via URL
    - search.suggest          # Search suggestions as you type
    - toc.follow              # Follow table of contents
    # toc.integrate removed - keeps page TOC on right side, site nav on left

  # Icon configuration
  icon:
    repo: fontawesome/brands/github

  # Font configuration (matches app Roboto font - tokens.typography.fontFamily)
  font:
    text: Roboto
    code: Roboto Mono

# Plugins
plugins:
  # Offline search with lunr.js (no external dependencies)
  - search:
      lang: en
      separator: '[\s\-\.]+'  # Search word separators

  # Note: mkdocs-minify-plugin was removed due to dependency compatibility issues
  # The unminified build is still suitable for bundling with the Electron app

# Markdown Extensions
markdown_extensions:
  # Admonitions (callout boxes for tips, warnings, etc.)
  - admonition

  # Collapsible admonitions
  - pymdownx.details

  # Advanced code blocks with syntax highlighting
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: !!python/name:pymdownx.superfences.fence_code_format

  # Tabbed content
  - pymdownx.tabbed:
      alternate_style: true

  # Syntax highlighting for code blocks
  - pymdownx.highlight:
      anchor_linenums: true
      line_spans: __span
      pygments_lang_class: true

  # Inline code highlighting
  - pymdownx.inlinehilite

  # Include file snippets
  - pymdownx.snippets

  # Keyboard shortcuts styling
  - pymdownx.keys

  # Table of contents with permalinks
  - toc:
      permalink: true
      toc_depth: 2  # Only show H1 and H2 in TOC, not H3 sub-sections

  # Add attributes to HTML elements
  - attr_list

  # Enable markdown in HTML blocks
  - md_in_html

  # Definition lists
  - def_list

  # Task lists with checkboxes
  - pymdownx.tasklist:
      custom_checkbox: true

  # Better emoji support
  - pymdownx.emoji:
      emoji_index: !!python/name:material.extensions.emoji.twemoji
      emoji_generator: !!python/name:material.extensions.emoji.to_svg

# Navigation Structure
nav:
  - Home: index.md
  - Overview: overview.md
  - Getting Started:
    - Quickstart (2 min): quickstart.md
    - Your First Calibration: getting-started.md
    - New to 9-Box?: new-to-9box.md
  - Working with Employee Data: employee-data.md
  - Core Features:
    - The 9-Box Grid: understanding-grid.md
    - Employee Details: working-with-employees.md
    - Tracking Changes: tracking-changes.md
    - Filtering: filters.md
    - Statistics: statistics.md
    - Intelligence: intelligence.md
    - Donut Mode: donut-mode.md
    - Exporting: exporting.md
    - Settings: settings.md
  - Workflows:
    - Complete Calibration Reference: workflows/talent-calibration.md
    - Making Your First Changes: workflows/making-changes.md
    - Adding Notes & Documentation: workflows/adding-notes.md
    - Analyzing Your Talent Distribution: workflows/analyzing-distribution.md
    - Identifying Flight Risks: workflows/identifying-flight-risks.md
  - Guides by Role:
    - Executive Quick Reference: executive-quick-reference.md
    - Managing Large Datasets (100+): large-dataset-guide.md
  - Reference:
    - Keyboard Shortcuts: keyboard-shortcuts.md
    - Tips & Best Practices: tips.md
    - Best Practices: best-practices.md
    - Feature Comparison: feature-comparison.md
    - Common Decisions: common-decisions.md
    - Detection Methodology: detection-methodology.md
  - Help:
    - Troubleshooting: troubleshooting.md
    - Frequently Asked Questions: faq.md

# UPDATED: Custom CSS for design system alignment
# design-tokens.css is auto-generated from frontend/src/theme/tokens.ts
# Run: npm run generate:docs-tokens (from frontend directory) to regenerate
extra_css:
  - stylesheets/design-tokens.css  # Auto-generated design tokens (DO NOT EDIT)
  - stylesheets/extra.css          # Documentation-specific overrides

# Extra JavaScript (optional for future enhancements)
# extra_javascript:
#   - javascripts/extra.js

# Copyright notice
copyright: Copyright &copy; 2024 9Boxer Team

# Social links (optional, can be removed for offline docs)
# extra:
#   social:
#     - icon: fontawesome/brands/github
#       link: https://github.com/yourorg/9boxer
